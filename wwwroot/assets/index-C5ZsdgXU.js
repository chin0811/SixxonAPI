import{_ as h,r as d,b as k,c as _,a as t,d as l,w as i,u as o,s as C,F as V,o as $,e as n,f,g as v,h as w,i as N,j as I,k as L}from"./index-CtZw9WOu.js";import{a as S}from"./axios-D7KHNWYj.js";async function T(){const p=localStorage.getItem("token"),r=await S.get("/Tool",{headers:{Authorization:`Bearer ${p}`}});return console.log(r.data),r.data}const B={class:"d-flex gap-2 flex-wrap align-items-center"},A={class:"d-flex w-100 inputbox-group",style:{"max-width":"300px"}},D={class:"d-flex w-100 inputbox-group",style:{"max-width":"300px"}},P={class:"d-flex align-items-center w-100",style:{"max-width":"300px"}},R=["onClick"],U=["onClick"],E={__name:"index",setup(p){const r=d(5),c=d([]);d(null);const b=async()=>{var a;try{const e=await T();c.value=e||[]}catch(e){e.value=((a=e.response)==null?void 0:a.data)||e.message}};k(async()=>{await b(),console.log("工具列表:",c.value)});const x=a=>{console.log("編輯:",a),selectedUser.value=a,isEdit.value="edit",showDialog.value=!0},y=async a=>{console.log("刪除:",a)},u=d(),m=d([{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}]);return(a,e)=>($(),_(V,null,[e[8]||(e[8]=t("div",null,[t("h1",null,"管理列表")],-1)),l(o(C),{value:c.value,tableStyle:"min-width: 50rem",ref:"dt",paginator:"",rows:r.value,rowsPerPageOptions:[5,10,20,50]},{header:i(()=>[t("div",B,[l(o(f),{onClick:a.onAdd},{default:i(()=>e[3]||(e[3]=[t("div",null,[t("i",{class:"pi pi-plus mr-2"}),v("  "),t("span",null,"新增刀具")],-1)])),_:1},8,["onClick"]),t("div",A,[e[4]||(e[4]=t("label",{for:"city",style:{width:"60px"}},"分類",-1)),l(o(w),{id:"city",modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),options:m.value,optionLabel:"name",placeholder:"選擇分類"},null,8,["modelValue","options"])]),t("div",D,[e[5]||(e[5]=t("label",{for:"city",style:{width:"60px"}},"狀態",-1)),l(o(w),{id:"city",modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=s=>u.value=s),options:m.value,optionLabel:"name",placeholder:"選擇狀態"},null,8,["modelValue","options"])]),t("div",P,[l(o(N),{class:"w-100"},{default:i(()=>[l(o(I),null,{default:i(()=>e[6]||(e[6]=[t("i",{class:"pi pi-search"},null,-1)])),_:1,__:[6]}),l(o(L),{placeholder:"關鍵字搜尋",class:"w-100"})]),_:1})]),l(o(f),{onClick:e[2]||(e[2]=s=>a.exportCSV(s))},{default:i(()=>e[7]||(e[7]=[t("div",null,[t("i",{class:"pi pi-external-link mr-2"}),v("  "),t("span",null,"匯出")],-1)])),_:1})])]),default:i(()=>[l(o(n),{field:"category",header:"分類"}),l(o(n),{field:"barcode",header:"條碼"}),l(o(n),{field:"toolName",header:"品名"}),l(o(n),{field:"toolCode",header:"料號"}),l(o(n),{field:"borrowDays",header:"效期"}),l(o(n),{field:"status",header:"狀態"}),l(o(n),{field:"receiver",header:"領用人"}),l(o(n),{header:"操作",style:{width:"20%"}},{body:i(s=>[t("button",{class:"btn btn-primary btn-sm me-2 mb-2 mb-md-0",onClick:g=>x(s.data)}," 編輯",8,R),t("button",{class:"btn btn-secondary btn-sm me-2",onClick:g=>y(s.data)},"刪除",8,U)]),_:1})]),_:1},8,["value","rows"])],64))}},Y=h(E,[["__scopeId","data-v-78f4265e"]]);export{Y as default};
